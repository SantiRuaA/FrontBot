<div class="container box">
    <h2 class="title is-4 has-text-centered">Registro de Usuario</h2>
    <p class="subtitle is-6 has-text-centered mb-5">Por favor, completa los siguientes datos para registrar un nuevo usuario.</p>
    <hr>

    <div *ngIf="error$ | async as error" class="notification is-danger is-light mb-4">
      {{ error }}
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <h3 class="title is-5">Información Personal</h3>
        <div class="columns is-multiline">
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="tipo_de_identificacion">Tipo de Identificación</label>
                    <div class="control">
                        <div class="select is-fullwidth">
                            <select id="tipo_de_identificacion" formControlName="tipo_de_identificacion">
                                <option value="C.C.">Cédula de Ciudadanía (CC)</option>
                                <option value="T.I.">Tarjeta de Identidad (TI)</option>
                                <option value="C.E.">Cédula de Extranjería (CE)</option>
                                <option value="P.A.">Pasaporte (PA)</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-two-thirds">
                <div class="field">
                    <label class="label" for="numero_identificacion">Número de Identificación</label>
                    <div class="control">
                        <input class="input" type="text" id="numero_identificacion" formControlName="numero_identificacion" placeholder="Ej: 1234567890">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="primer_nombre">Primer Nombre</label>
                    <div class="control">
                        <input class="input" type="text" id="primer_nombre" formControlName="primer_nombre" placeholder="Primer Nombre">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="segundo_nombre">Segundo Nombre</label>
                    <div class="control">
                        <input class="input" type="text" id="segundo_nombre" formControlName="segundo_nombre" placeholder="Segundo Nombre">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="primer_apellido">Primer Apellido</label>
                    <div class="control">
                        <input class="input" type="text" id="primer_apellido" formControlName="primer_apellido" placeholder="Primer Apellido">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="segundo_apellido">Segundo Apellido</label>
                    <div class="control">
                        <input class="input" type="text" id="segundo_apellido" formControlName="segundo_apellido" placeholder="Segundo Apellido">
                    </div>
                </div>
            </div>
            <div class="column is-full">
                <div class="field">
                    <label class="label" for="fecha_nacimiento">Fecha de Nacimiento</label>
                    <div class="control">
                        <input class="input" type="date" id="fecha_nacimiento" formControlName="fecha_nacimiento">
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <h3 class="title is-5">Información de Contacto y Residencia</h3>
        <div class="columns is-multiline">
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="pais_residencia">País de Residencia</label>
                    <div class="control">
                        <input class="input" type="text" id="pais_residencia" formControlName="pais_residencia" placeholder="País">
                    </div>
                </div>
            </div>
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="dpto_residencia">Departamento</label>
                    <div class="control">
                        <input class="input" type="text" id="dpto_residencia" formControlName="dpto_residencia" placeholder="Departamento">
                    </div>
                </div>
            </div>
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="mncpio_residencia">Municipio</label>
                    <div class="control">
                        <input class="input" type="text" id="mncpio_residencia" formControlName="mncpio_residencia" placeholder="Municipio">
                    </div>
                </div>
            </div>
            <div class="column is-full">
                <div class="field">
                    <label class="label" for="direccion_residencia">Dirección</label>
                    <div class="control">
                        <input class="input" type="text" id="direccion_residencia" formControlName="direccion_residencia" placeholder="Dirección">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="correo_sena">Correo Sena</label>
                    <div class="control">
                        <input class="input" type="email" id="correo_sena" formControlName="correo_sena" placeholder="Correo institucional">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="correo_particular">Correo Particular</label>
                    <div class="control">
                        <input class="input" type="email" id="correo_particular" formControlName="correo_particular" placeholder="Correo personal">
                    </div>
                </div>
            </div>
             <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="telefono_entidad">Teléfono Entidad</label>
                    <div class="control">
                        <input class="input" type="tel" id="telefono_entidad" formControlName="telefono_entidad" placeholder="Teléfono de la entidad">
                    </div>
                </div>
            </div>
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="extension_telefonica">Extensión</label>
                    <div class="control">
                        <input class="input" type="text" id="extension_telefonica" formControlName="extension_telefonica" placeholder="Extensión">
                    </div>
                </div>
            </div>
            <div class="column is-one-third">
                <div class="field">
                    <label class="label" for="numero_celular">Número Celular</label>
                    <div class="control">
                        <input class="input" type="tel" id="numero_celular" formControlName="numero_celular" placeholder="Número de celular">
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <h3 class="title is-5">Detalles del Contrato</h3>
        <div class="columns is-multiline">
            <div class="column is-full">
                <div class="field">
                    <label class="label" for="estado_actual">Estado Actual</label>
                    <div class="control">
                        <div class="select is-fullwidth">
                            <select id="estado_actual" formControlName="estado_actual">
                                <option [ngValue]="true">Activo</option>
                                <option [ngValue]="false">Inactivo</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="fecha_inicio_contrato">Fecha de Inicio</label>
                    <div class="control">
                        <input class="input" type="date" id="fecha_inicio_contrato" formControlName="fecha_inicio_contrato">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="fecha_fin_contrato">Fecha de Fin</label>
                    <div class="control">
                        <input class="input" type="date" id="fecha_fin_contrato" formControlName="fecha_fin_contrato">
                    </div>
                </div>
            </div>
            <div class="column is-full">
                <div class="field">
                    <label class="label" for="numero_contrato">Número de Contrato</label>
                    <div class="control">
                        <input class="input" type="text" id="numero_contrato" formControlName="numero_contrato" placeholder="Número de contrato">
                    </div>
                </div>
            </div>
        </div>

        <hr>
        <h3 class="title is-5">Información de Cuenta</h3>
        <div class="columns is-multiline">
            <div class="column is-full">
                <div class="field">
                    <label class="label" for="rol_asignado">Rol Asignado</label>
                    <div class="control">
                        <div class="select is-fullwidth">
                            <select id="rol_asignado" formControlName="rol_asignado">
                                <option value="Dinamizador">Dinamizador</option>
                                <option value="Administrador">Administrador</option>
                                <option value="Evaluador">Evaluador</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="password">Contraseña</label>
                    <div class="control">
                        <input class="input" type="password" id="password" formControlName="password" placeholder="Mínimo 8 caracteres">
                    </div>
                </div>
            </div>
            <div class="column is-half">
                <div class="field">
                    <label class="label" for="confirmar_contrasena">Confirmar Contraseña</label>
                    <div class="control">
                        <input class="input" type="password" id="confirmar_contrasena" formControlName="confirmar_contrasena" placeholder="Repite la contraseña">
                    </div>
                </div>
            </div>
        </div>

        <div class="field is-grouped is-grouped-centered mt-6">
            <div class="control">
                <button class="button is-primary is-large" type="submit" [disabled]="registerForm.invalid || (loading$ | async)" [ngClass]="{'is-loading': loading$ | async}">
                    Guardar Usuario
                </button>
            </div>
            <div class="control">
                <button class="button is-light is-large" type="reset">Limpiar Campos</button>
            </div>
        </div>
    </form>
</div>